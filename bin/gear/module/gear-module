#!/bin/bash

functions="$( cd "$( dirname "${BASH_SOURCE[0***REMOVED***}" )" && cd ./../abstract/ && pwd )"

source "$functions/abstract-module.sh"

worker="module"

source "$functions/init.sh"


if [ "$cmd" == "create" ***REMOVED***; then

    # Params
    if [ $# -lt 9 ***REMOVED***; then
        echo "usage $0: command module type scriptsDir gearfile migration local ci jira"
        exit 1
    fi
    
    Gear_Module_Create "${2}" "${3}" "${4}" "${5}" "${6}" "${7}" "${8}" "${9}"
	
	exit 0
fi

if [ "$cmd" == "construct" ***REMOVED***; then
	
	# Params
    if [ $# -lt 5 ***REMOVED***; then
        echo "usage $0: command module type scriptsDir gearfile migrations local ci"
        exit 1
    fi
   
    Gear_Module_Construct "${2}" "${3}" "${4}" "${5}" "${6}" "${7}" "${8}"
    
	exit 0
fi

if [ "$cmd" == "reset" ***REMOVED***; then
	
	# Params
    if [ $# -lt 4 ***REMOVED***; then
        echo "usage $0: command module local ci"
        exit 1
    fi
   
    Gear_Module_Reset "${2}" "${3}" "${4}"

	exit 0
   
fi

if [ "$cmd" == "test" ***REMOVED***; then
	
	# Params
    if [ $# -lt 3 ***REMOVED***; then
        echo "usage $0: command module type"
        exit 1
    fi
   
    Gear_Module_Run_Ant "${2}" "${3}"

	exit 0

fi