<?php
namespace GearItTest\ServiceTest;

use PHPUnit\Framework\TestCase;
use GearIt\Service\MyServiceTrait;
use GearIt\Service\MyService;

/**
 * @group GearIt
 * @group MyService
 * @group Service
 */
class MyServiceTraitTest extends TestCase
{
    use MyServiceTrait;

    public function setUp() : void
    {
        $this->myServiceMock = $this->prophesize(MyService::class);
    }

    public function testGetEmpty()
    {
        $myService = $this->getMyService();
        $this->assertNull($myService);
    }

    public function testSet()
    {
        $this->setMyService($this->myServiceMock->reveal());
        $myService = $this->getMyService();

        $this->assertInstanceOf(
            MyService::class,
            $myService
        );

        $this->assertEquals(
            $this->myServiceMock->reveal(),
            $myService
        );
    }
}
