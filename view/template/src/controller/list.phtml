
    public function listAction()
    {
        $formSearch = $this->get<?php echo $this->str('var', $this->data);?>SearchFactory();

        $redirectUrl = $this->url()->fromRoute(self::LISTS);
        $prg = $this->prg($redirectUrl, true);

        if ($prg instanceof Response) {
            return $prg;
        } elseif ($prg !== false) {
            $formSearch->setData($prg);
        } else {
            $prg = array();
        }

        $<?php echo $this->varLenght; ?>= $this->get<?php echo $this->data;?>Service();

        return new ViewModel(
            array(
                'sucesso'   => $this->viewMessages()->listSuccess(),
                'search'    => $formSearch,
                'tableService' => $<?php echo $this->varLenght; ?>,
                'orderBy'   => $<?php echo $this->varLenght; ?>->getOrderBy(),
                'order'     => $<?php echo $this->varLenght; ?>->getOrder(),
                'data'      => $<?php echo $this->varLenght; ?>->getData($prg),
            )
        );
    }
